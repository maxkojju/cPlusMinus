func main << >> int; {
   
    board: int[int[]] = new:int[int[]](); 
    
  
    board.add(new:int[](0, 0, 0));
    board.add(new:int[](0, 0, 0));
    board.add(new:int[](0, 0, 0));
    
    display(board);
   
    turn:int = new:int(1);
    
   
    while(5==5) 
    {
        printLine(new:str("going player: " + turn));
        
        printLine(new:str("input row (1-3):"));
        row:int = get_int_input() - 1;
    
        printLine(new:str("input column (1-3):"));
        collumn:int = get_int_input() - 1;

       
        if (row >= 0) { if (row <= 2) {
        if (collumn >= 0) { if (collumn <= 2) {
            
            // Если клетка пустая
            if(board[row][collumn] == 0) {
                
             
                board[row][collumn] = turn;
                display(board);

             
                if (checkWin(board, turn) == 1) {
                    printLine(new:str("!!! PLAYER " + turn + " WINS !!!"));
                    return 0; // Завершаем программу
                }
             
                turn = new:int(turn+1);
                if(turn==3) {
                    turn = new:int(1); 
                }

            } else {  
                printLine(new:str("Already stolen! Try again."));
            }

        } else { printLine(new:str("Invalid column!")); }
        } else { printLine(new:str("Invalid column!")); }
        } else { printLine(new:str("Invalid row!")); }
        } else { printLine(new:str("Invalid row!")); }
    }
    return 0;
}
func checkWin << board:int[int[]], p:int >> int; {
    
    // 1. Проверка строк
    // Используем цикл, чтобы проверить 3 строки
    for(int r = new:int(0); r < 3; r = new:int(r+1)) {
        if (board[r][0] == p) {
            if (board[r][1] == p) {
                if (board[r][2] == p) {
                    return 1;
                }
            }
        }
    }

    for(int c = new:int(0); c < 3; c = new:int(c+1)) {
        if (board[0][c] == p) {
            if (board[1][c] == p) {
                if (board[2][c] == p) {
                    return 1;
                }
            }
        }
    }

    if (board[0][0] == p) {
        if (board[1][1] == p) {
            if (board[2][2] == p) {
                return 1;
            }
        }
    }

    if (board[0][2] == p) {
        if (board[1][1] == p) {
            if (board[2][0] == p) {
                return 1;
            }
        }
    }

    return 0;
}

func display << board:int[int[]] >> none;
{
    printLine(new:str("-------"));
    for(int E = new:int(0); E < len(board); E = new:int(E+1)) {
        for(int G = new:int(0); G < len(board[E]); G = new:int(G+1))
    	{
            print(board[E][G]);
            print("  ");
    	}
    	printLine(new:str(""));
    }
    printLine(new:str("-------"));
}
